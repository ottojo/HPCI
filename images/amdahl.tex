\begin{tikzpicture}
    \begin{axis}[
            width=\textwidth,
            height=0.5\textwidth,
            xmin=1, xmax=128,
            ymin=1, ymax=64,
            xtick={1,8,16,32,64,128},
            ytick={1,8,16,32,64},
            xlabel={Number of cores},
            ylabel={Speedup}
        ]
        \foreach [evaluate=\s as \redfrac using (\s*10)] \s in {0,2,...,10} {
                \edef\temp{\noexpand\addplot[thick, domain=1:128, samples=200, red!\redfrac!green]{x/(x * (\s/100) + (1-(\s/100)))};
                    \noexpand\addlegendentry{$s=\s\%$}}
                \temp
            }
    \end{axis}
\end{tikzpicture}
